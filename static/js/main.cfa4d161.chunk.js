(this.webpackJsonpdemo_zuddl=this.webpackJsonpdemo_zuddl||[]).push([[0],{10:function(t,e,a){},28:function(t,e,a){},29:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),c=a(13),r=a.n(c),o=(a(28),a(29),a(7)),d=a(9),i=a.n(d),l=a(11),u=a(8),j=(a(10),a.p,a(21)),b=a(1),p=function(t){return console.log(t),Object(b.jsxs)("div",{className:"Edit-Buttons",children:[Object(b.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:t.onSave,style:{backgroundColor:"green"},children:"Save"}),Object(b.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:t.onCancel,style:{backgroundColor:"red"},children:"Cancel"}),t.isDeleting&&Object(b.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:t.onDelete,style:{backgroundColor:"red"},children:"Delete"})]})},g=function(t){var e=Object(s.useState)(t.prevText||""),a=Object(u.a)(e,2),n=a[0],c=a[1];return Object(b.jsxs)("div",{className:"Edit-Task",children:[Object(b.jsx)("div",{className:"Task",children:Object(b.jsx)(j.a,{autoFocus:!0,placeholder:"Enter the task",value:n,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),t.onSave(n))},onChange:function(t){return c(t.target.value)},className:"Edit-Task-Textarea"})}),Object(b.jsx)(p,{onSave:function(){return t.onSave(n)},onCancel:t.onCancel,onDelete:t.onDelete,isDeleting:t.isDeleting})]})},O=Object(o.b)((function(t,e){return{task:t.task[e.taskId]}}))((function(t){var e=t.task,a=Object(s.useState)(!1),n=Object(u.a)(a,2),c=n[0],r=n[1],o=function(){var e=Object(l.a)(i.a.mark((function e(a){var s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.task,n=t.dispatch,r(!c),n({type:"CHANGE_TASK_TEXT",payload:{taskId:s.id,taskText:a}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(i.a.mark((function e(){var a,s,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.stageId,s=t.task,n=t.dispatch,r(!c),n({type:"DELETE_TASK",payload:{stageId:a,taskId:s.id}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?Object(b.jsx)(g,{onSave:o,onCancel:function(){return r(!c)},prevText:e.text,onDelete:d,isDeleting:!0}):Object(b.jsx)("div",{className:"Task",onClick:function(){return r(!c)},children:e.text})})),v=a(3),k=a.n(v),T=Object(o.b)((function(t,e){return{stage:t.stage[e.stageId]}}))((function(t){var e=t.stage,a=Object(s.useState)(!1),n=Object(u.a)(a,2),c=n[0],r=n[1],o=function(){r(!c)},d=function(){var e=Object(l.a)(i.a.mark((function e(a){var s,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.stageId,n=t.dispatch,o(),c=k()(),n({type:"ADD_TASK",payload:{stageId:s,taskId:c,taskText:a}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"Stage",children:[Object(b.jsx)("div",{className:"Stage-Title",onClick:void 0,children:e.title}),e.tasks&&e.tasks.map((function(t,a){return Object(b.jsx)(O,{stageId:e.id,taskId:t,index:a})})),c?Object(b.jsx)(g,{onSave:d,onCancel:o}):Object(b.jsx)("div",{className:"Toggle-Add-Task",onClick:function(){return o()},children:"Add a Task"})]})})),f=Object(o.b)((function(t){return{board:t.board}}))((function(t){var e=t.board;return Object(b.jsx)("div",{className:"Board",children:e.stages.map((function(t,e){return Object(b.jsx)(T,{stageId:t,index:e})}))})}));var h=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"Header",children:"Board"}),Object(b.jsx)(f,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,39)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),s(t),n(t),c(t),r(t)}))},A=a(16),I=a(15);var D=a(18),x=a(17),S=a(4),E=a(2);var m=Object(A.a)({board:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stages:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_STAGE":var a=e.payload.stageId;return{stages:[].concat(Object(I.a)(t.stages),[a])};case"MOVE_STAGE":var s=e.payload,n=s.from,c=s.to,r=Array.from(t.stages);return r.splice(c,0,r.splice(n,1)[0]),{stages:r};case"DELETE_STAGE":var o=e.payload.stageId,d=t.stages.filter((function(t){return t!==o}));return{stages:d};default:return t}},stage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_STAGE":var a=e.payload,s=a.stageId,n=a.stageTitle;return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},s,{id:s,title:n,tasks:[]}));case"DELETE_STAGE":var c=e.payload.stageId,r=(t[c],Object(D.a)(t,[c].map(x.a)));return r;case"RENAME_STAGE":var o=e.payload,d=o.stageId,i=o.stageTitle;return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},d,Object(E.a)(Object(E.a)({},t[d]),{},{title:i})));case"ADD_TASK":var l=e.payload,j=l.stageId,b=l.taskId;return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},j,Object(E.a)(Object(E.a)({},t[j]),{},{tasks:[].concat(Object(I.a)(t[j].tasks),[b])})));case"DELETE_TASK":var p=e.payload,g=p.stageId,O=p.taskId,v=t[g].tasks.filter((function(t){return t!==O}));return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},g,Object(E.a)(Object(E.a)({},t[g]),{},{tasks:v})));case"MOVE_TASK":var k,T=e.payload,f=T.source,h=T.target,y=T.oldIndex,A=T.newIndex;if(f===h){var m=Array.from(t[f].tasks);return m.splice(A,0,m.splice(y,1)[0]),Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},f,Object(E.a)(Object(E.a)({},t[f]),{},{tasks:m})))}var _=Array.from(t[f].tasks),C=_.splice(y,1),N=Object(u.a)(C,1),w=N[0],K=Array.from(t[h].tasks);return K.splice(A,0,w),Object(E.a)(Object(E.a)({},t),{},(k={},Object(S.a)(k,f,Object(E.a)(Object(E.a)({},t[f]),{},{tasks:_})),Object(S.a)(k,h,Object(E.a)(Object(E.a)({},t[h]),{},{tasks:K})),k));default:return t}},task:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TASK":var a=e.payload,s=a.taskId,n=a.taskText;return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},s,{id:s,text:n}));case"CHANGE_TASK_TEXT":var c=e.payload,r=c.taskId,o=c.taskText;return Object(E.a)(Object(E.a)({},t),{},Object(S.a)({},r,Object(E.a)(Object(E.a)({},t[r]),{},{text:o})));case"DELETE_TASK":var d=e.payload.taskId,i=(t[d],Object(D.a)(t,[d].map(x.a)));return i;case"DELETE_STAGE":var l=e.payload.tasks,u=Object(E.a)({},t);return l.forEach((function(t){delete u[t]})),u;default:return t}}}),_=function(t){console.log("Fetching from fake API since no local data detected");var e=k()();t.dispatch({type:"ADD_STAGE",payload:{stageId:e,stageTitle:"Resources"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:e,taskId:k()(),taskText:"Financials"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:e,taskId:k()(),taskText:"2017 Goals"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:e,taskId:k()(),taskText:"Brands guide"}});var a=k()();t.dispatch({type:"ADD_STAGE",payload:{stageId:a,stageTitle:"Todo"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:k()(),taskText:"Taco drone"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:k()(),taskText:"BITCOIN"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:k()(),taskText:"Elon musk"}});var s=k()();t.dispatch({type:"ADD_STAGE",payload:{stageId:s,stageTitle:"Doing"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:s,taskId:k()(),taskText:"Matic"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:s,taskId:k()(),taskText:"Safe Moon"}});var n=k()();t.dispatch({type:"ADD_STAGE",payload:{stageId:n,stageTitle:"Done"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:n,taskId:k()(),taskText:"Zuddl To the moon"}})},C=function(t){},N=a(23),w=a.n(N),K=function(){try{var t=localStorage.getItem("state");return t?JSON.parse(t):void 0}catch(e){console.log("unable to load local state")}}(),G=Object(A.b)(m,K);0===G.getState().board.stages.length&&_(G),C(G),G.subscribe(w()((function(){!function(t){try{localStorage.setItem("state",JSON.stringify(t))}catch(e){console.log("unable to save state")}}(G.getState())}),1e3));var B=G;r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(o.a,{store:B,children:Object(b.jsx)(h,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),y()}},[[38,1,2]]]);
//# sourceMappingURL=main.cfa4d161.chunk.js.map