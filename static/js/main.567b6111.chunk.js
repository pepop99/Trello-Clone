(this.webpackJsonpdemo_zuddl=this.webpackJsonpdemo_zuddl||[]).push([[0],{14:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(12),r=a.n(s),o=(a(29),a(30),a(5)),d=a.n(o),i=a(9),l=a(8),u=a(7),p=a(3),j=(a(14),a(24)),b=a(2),g=function(e){return console.log(e),Object(b.jsxs)("div",{className:"Edit-Buttons",children:[Object(b.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:e.onSave,style:{backgroundColor:"green"},children:"Save"}),Object(b.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:e.onCancel,style:{backgroundColor:"red"},children:"Cancel"}),e.isDeleting&&Object(b.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:e.onDelete,style:{backgroundColor:"red"},children:"Delete"})]})},O=function(e){var t=Object(n.useState)(e.prevText||""),a=Object(l.a)(t,2),c=a[0],s=a[1],r=e.placeholder||"Enter the task";return Object(b.jsxs)("div",{className:"Edit-Task",children:[Object(b.jsx)("div",{className:"Task",children:Object(b.jsx)(j.a,{autoFocus:!0,placeholder:r,value:c,onKeyDown:function(t){13===t.keyCode&&(t.preventDefault(),e.onSave(c))},onChange:function(e){return s(e.target.value)},className:"Edit-Task-Textarea"})}),Object(b.jsx)(g,{onSave:function(){return e.onSave(c)},onCancel:e.onCancel,onDelete:e.onDelete,isDeleting:e.isDeleting})]})},f=Object(u.b)((function(e,t){return{task:e.task[t.taskId]}}))((function(e){var t=e.task,a=Object(n.useState)(!1),c=Object(l.a)(a,2),s=c[0],r=c[1],o=function(){var t=Object(i.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.task,c=e.dispatch,r(!s),c({type:"CHANGE_TASK_TEXT",payload:{taskId:n.id,taskText:a}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=Object(i.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.stageId,n=e.task,c=e.dispatch,r(!s),c({type:"DELETE_TASK",payload:{stageId:a,taskId:n.id}});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return s?Object(b.jsx)(O,{onSave:o,onCancel:function(){return r(!s)},prevText:t.text,onDelete:u,isDeleting:!0}):Object(b.jsx)("div",{className:"Task",onClick:function(){return r(!s)},children:t.text})})),v=a(4),h=a.n(v),T=a(13),k=Object(u.b)((function(e,t){return{stage:e.stage[t.stageId]}}))((function(e){var t=e.stage,a=e.index,c=Object(n.useState)(!1),s=Object(l.a)(c,2),r=s[0],o=s[1],u=Object(n.useState)(!1),j=Object(l.a)(u,2),g=j[0],v=j[1],k=function(){var t=Object(i.a)(d.a.mark((function t(a){var n,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.stageId,c=e.dispatch,v(!g),s=h()(),c({type:"ADD_TASK",payload:{stageId:n,taskId:s,taskText:a}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var t=Object(i.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.stageId,c=e.dispatch,o(!r),c({type:"RENAME_STAGE",payload:{stageId:n,stageTitle:a}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(i.a)(d.a.mark((function t(){var a,n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.stageId,n=e.stage,c=e.dispatch,o(!r),c({type:"DELETE_STAGE",payload:{stageId:a,tasks:n.tasks}});case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsx)(T.b,{draggableId:t.id,index:a,children:function(e,a){return Object(b.jsxs)("div",Object(p.a)(Object(p.a)(Object(p.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{className:"Stage",children:[r?Object(b.jsx)(O,{onSave:y,onCancel:function(){return o(!r)},onDelete:x,isDeleting:!0,prevText:t.title}):Object(b.jsx)("div",{className:"Stage-Title",onClick:function(){return o(!r)},children:t.title}),Object(b.jsx)(T.c,{droppableId:t.id,children:function(e,a){return Object(b.jsxs)("div",{ref:e.innerRef,children:[t.tasks&&t.tasks.map((function(e,a){return Object(b.jsx)(f,{stageId:t.id,taskId:e,index:a},e)})),e.placeholder]})}}),g?Object(b.jsx)(O,{onSave:k,onCancel:function(){return v(!g)}}):Object(b.jsx)("div",{className:"Toggle-Add-Task",onClick:function(){return v(!g)},children:"Add a Task"})]}))}})})),y=Object(u.b)((function(e){return{board:e.board}}))((function(e){var t=e.board,a=Object(n.useState)(!0),c=Object(l.a)(a,2),s=c[0],r=c[1],o=function(){var t=Object(i.a)(d.a.mark((function t(a){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.dispatch,c=h()(),r(!s),n({type:"ADD_STAGE",payload:{stageId:c,stageTitle:a}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)(T.a,{onDragEnd:function(t){var a=t.source,n=t.destination,c=t.type;if(n){console.log(a,n);var s=e.dispatch;"COLUMN"!==c?a.index===n.index&&a.droppableId===n.droppableId||s({type:"MOVE_STAGE",payload:{source:a.droppableId,target:n.droppableId,oldIndex:a.index,newIndex:n.index}}):a.index!==n.index&&s({type:"MOVE_STAGE",payload:{from:a.index,to:n.index}})}},children:Object(b.jsx)(T.c,{droppableId:"board",direction:"horizontal",type:"COLUMN",children:function(e,a){return Object(b.jsxs)("div",{className:"Board",ref:e.innerRef,children:[t.stages.map((function(e,t){return Object(b.jsx)(k,{stageId:e,index:t},e)})),e.placeholder,Object(b.jsx)("div",{children:s?Object(b.jsx)("div",{className:"Stage",children:Object(b.jsx)("div",{className:"Stage-Title",onClick:function(){return r(!s)},children:"Add a stage "})}):Object(b.jsx)(O,{onSave:o,onCancel:function(){return r(!s)},placeholder:"Add new Stage Title"})})]})}})})}));var x=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("div",{className:"Header",children:"Board"}),Object(b.jsx)(y,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},A=a(10),S=a(17);var D=a(19),E=a(18),m=a(6);var _=Object(A.c)({board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STAGE":var a=t.payload.stageId;return{stages:[].concat(Object(S.a)(e.stages),[a])};case"MOVE_STAGE":var n=t.payload,c=n.from,s=n.to,r=Array.from(e.stages);return r.splice(s,0,r.splice(c,1)[0]),{stages:r};case"DELETE_STAGE":var o=t.payload.stageId,d=e.stages.filter((function(e){return e!==o}));return{stages:d};default:return e}},stage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STAGE":var a=t.payload,n=a.stageId,c=a.stageTitle;return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},n,{id:n,title:c,tasks:[]}));case"DELETE_STAGE":var s=t.payload.stageId,r=(e[s],Object(D.a)(e,[s].map(E.a)));return r;case"RENAME_STAGE":var o=t.payload,d=o.stageId,i=o.stageTitle;return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},d,Object(p.a)(Object(p.a)({},e[d]),{},{title:i})));case"ADD_TASK":var u=t.payload,j=u.stageId,b=u.taskId;return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},j,Object(p.a)(Object(p.a)({},e[j]),{},{tasks:[].concat(Object(S.a)(e[j].tasks),[b])})));case"DELETE_TASK":var g=t.payload,O=g.stageId,f=g.taskId,v=e[O].tasks.filter((function(e){return e!==f}));return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},O,Object(p.a)(Object(p.a)({},e[O]),{},{tasks:v})));case"MOVE_TASK":var h,T=t.payload,k=T.source,y=T.target,x=T.oldIndex,I=T.newIndex;if(k===y){var A=Array.from(e[k].tasks);return A.splice(I,0,A.splice(x,1)[0]),Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},k,Object(p.a)(Object(p.a)({},e[k]),{},{tasks:A})))}var _=Array.from(e[k].tasks),w=_.splice(x,1),C=Object(l.a)(w,1),N=C[0],G=Array.from(e[y].tasks);return G.splice(I,0,N),Object(p.a)(Object(p.a)({},e),{},(h={},Object(m.a)(h,k,Object(p.a)(Object(p.a)({},e[k]),{},{tasks:_})),Object(m.a)(h,y,Object(p.a)(Object(p.a)({},e[y]),{},{tasks:G})),h));default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":var a=t.payload,n=a.taskId,c=a.taskText;return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},n,{id:n,text:c}));case"CHANGE_TASK_TEXT":var s=t.payload,r=s.taskId,o=s.taskText;return Object(p.a)(Object(p.a)({},e),{},Object(m.a)({},r,Object(p.a)(Object(p.a)({},e[r]),{},{text:o})));case"DELETE_TASK":var d=t.payload.taskId,i=(e[d],Object(D.a)(e,[d].map(E.a)));return i;case"DELETE_STAGE":var l=t.payload.tasks,u=Object(p.a)({},e);return l.forEach((function(e){delete u[e]})),u;default:return e}}}),w=function(e){console.log("Fetching from fake API since no local data detected");var t=h()();e.dispatch({type:"ADD_STAGE",payload:{stageId:t,stageTitle:"Resources"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:t,taskId:h()(),taskText:"Financials"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:t,taskId:h()(),taskText:"2017 Goals"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:t,taskId:h()(),taskText:"Brands guide"}});var a=h()();e.dispatch({type:"ADD_STAGE",payload:{stageId:a,stageTitle:"Todo"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:h()(),taskText:"Taco drone"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:h()(),taskText:"BITCOIN"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:h()(),taskText:"Elon musk"}});var n=h()();e.dispatch({type:"ADD_STAGE",payload:{stageId:n,stageTitle:"Doing"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:n,taskId:h()(),taskText:"Matic"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:n,taskId:h()(),taskText:"Safe Moon"}});var c=h()();e.dispatch({type:"ADD_STAGE",payload:{stageId:c,stageTitle:"Done"}}),e.dispatch({type:"ADD_TASK",payload:{stageId:c,taskId:h()(),taskText:"Zuddl To the moon"}})},C=function(e){},N=a(23),G=a.n(N),K=function(){var e=Object(i.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{localStorage.setItem("state",JSON.stringify(t))}catch(a){console.log("unable to save state")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){try{var e=localStorage.getItem("state");return e?JSON.parse(e):void 0}catch(t){console.log("unable to load local state")}}(),L=Object(A.e)(_,B);0===L.getState().board.stages.length&&(w(L),K(L.getState())),C(L),L.subscribe(G()((function(){K(L.getState())}),1e3));var M=L;r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(u.a,{store:M,children:Object(b.jsx)(x,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),I()}},[[39,1,2]]]);
//# sourceMappingURL=main.567b6111.chunk.js.map