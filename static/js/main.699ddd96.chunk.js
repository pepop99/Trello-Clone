(this.webpackJsonpdemo_zuddl=this.webpackJsonpdemo_zuddl||[]).push([[0],{11:function(t,e,a){},28:function(t,e,a){},29:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),c=a(13),r=a.n(c),o=(a(28),a(29),a(9)),d=a(5),i=a.n(d),l=a(10),u=a(8),p=(a(11),a.p,a(21)),j=a(1),b=function(t){return console.log(t),Object(j.jsxs)("div",{className:"Edit-Buttons",children:[Object(j.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:t.onSave,style:{backgroundColor:"green"},children:"Save"}),Object(j.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:t.onCancel,style:{backgroundColor:"red"},children:"Cancel"}),t.isDeleting&&Object(j.jsx)("div",{tabIndex:"0",className:"Edit-Button",onClick:t.onDelete,style:{backgroundColor:"red"},children:"Delete"})]})},g=function(t){var e=Object(n.useState)(t.prevText||""),a=Object(u.a)(e,2),s=a[0],c=a[1];return Object(j.jsxs)("div",{className:"Edit-Task",children:[Object(j.jsx)("div",{className:"Task",children:Object(j.jsx)(p.a,{autoFocus:!0,placeholder:"Enter the task",value:s,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),t.onSave(s))},onChange:function(t){return c(t.target.value)},className:"Edit-Task-Textarea"})}),Object(j.jsx)(b,{onSave:function(){return t.onSave(s)},onCancel:t.onCancel,onDelete:t.onDelete,isDeleting:t.isDeleting})]})},O=Object(o.b)((function(t,e){return{task:t.task[e.taskId]}}))((function(t){var e=t.task,a=Object(n.useState)(!1),s=Object(u.a)(a,2),c=s[0],r=s[1],o=function(){var e=Object(l.a)(i.a.mark((function e(a){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.task,s=t.dispatch,r(!c),s({type:"CHANGE_TASK_TEXT",payload:{taskId:n.id,taskText:a}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(i.a.mark((function e(){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.stageId,n=t.task,s=t.dispatch,r(!c),s({type:"DELETE_TASK",payload:{stageId:a,taskId:n.id}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c?Object(j.jsx)(g,{onSave:o,onCancel:function(){return r(!c)},prevText:e.text,onDelete:d,isDeleting:!0}):Object(j.jsx)("div",{className:"Task",onClick:function(){return r(!c)},children:e.text})})),v=a(3),f=a.n(v),k=Object(o.b)((function(t,e){return{stage:t.stage[e.stageId]}}))((function(t){var e=t.stage,a=Object(n.useState)(!1),s=Object(u.a)(a,2),c=s[0],r=s[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],b=d[1],v=function(){b(!p)},k=function(){var e=Object(l.a)(i.a.mark((function e(a){var n,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.stageId,s=t.dispatch,v(),c=f()(),s({type:"ADD_TASK",payload:{stageId:n,taskId:c,taskText:a}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(i.a.mark((function e(a){var n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.stageId,s=t.dispatch,r(!c),s({type:"RENAME_STAGE",payload:{stageId:n,stageTitle:a}});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(i.a.mark((function e(){var a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.stageId,n=t.stage,s=t.dispatch,r(!c),s({type:"DELETE_STAGE",payload:{stageId:a,tasks:n.tasks}});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"Stage",children:[c?Object(j.jsx)(g,{onSave:T,onCancel:function(){return r(!c)},onDelete:h,isDeleting:!0}):Object(j.jsx)("div",{className:"Stage-Title",onClick:function(){return r(!c)},children:e.title}),e.tasks&&e.tasks.map((function(t,a){return Object(j.jsx)(O,{stageId:e.id,taskId:t,index:a})})),p?Object(j.jsx)(g,{onSave:k,onCancel:v}):Object(j.jsx)("div",{className:"Toggle-Add-Task",onClick:function(){return v()},children:"Add a Task"})]})})),T=Object(o.b)((function(t){return{board:t.board}}))((function(t){var e=t.board;return Object(j.jsx)("div",{className:"Board",children:e.stages.map((function(t,e){return Object(j.jsx)(k,{stageId:t,index:e})}))})}));var h=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"Header",children:"Board"}),Object(j.jsx)(T,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,39)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),n(t),s(t),c(t),r(t)}))},I=a(16),A=a(15);var D=a(18),x=a(17),E=a(4),S=a(2);var m=Object(I.a)({board:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stages:[]},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_STAGE":var a=e.payload.stageId;return{stages:[].concat(Object(A.a)(t.stages),[a])};case"MOVE_STAGE":var n=e.payload,s=n.from,c=n.to,r=Array.from(t.stages);return r.splice(c,0,r.splice(s,1)[0]),{stages:r};case"DELETE_STAGE":var o=e.payload.stageId,d=t.stages.filter((function(t){return t!==o}));return{stages:d};default:return t}},stage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_STAGE":var a=e.payload,n=a.stageId,s=a.stageTitle;return Object(S.a)(Object(S.a)({},t),{},Object(E.a)({},n,{id:n,title:s,tasks:[]}));case"DELETE_STAGE":var c=e.payload.stageId,r=(t[c],Object(D.a)(t,[c].map(x.a)));return r;case"RENAME_STAGE":var o=e.payload,d=o.stageId,i=o.stageTitle;return Object(S.a)(Object(S.a)({},t),{},Object(E.a)({},d,Object(S.a)(Object(S.a)({},t[d]),{},{title:i})));case"ADD_TASK":var l=e.payload,p=l.stageId,j=l.taskId;return Object(S.a)(Object(S.a)({},t),{},Object(E.a)({},p,Object(S.a)(Object(S.a)({},t[p]),{},{tasks:[].concat(Object(A.a)(t[p].tasks),[j])})));case"DELETE_TASK":var b=e.payload,g=b.stageId,O=b.taskId,v=t[g].tasks.filter((function(t){return t!==O}));return Object(S.a)(Object(S.a)({},t),{},Object(E.a)({},g,Object(S.a)(Object(S.a)({},t[g]),{},{tasks:v})));case"MOVE_TASK":var f,k=e.payload,T=k.source,h=k.target,y=k.oldIndex,I=k.newIndex;if(T===h){var m=Array.from(t[T].tasks);return m.splice(I,0,m.splice(y,1)[0]),Object(S.a)(Object(S.a)({},t),{},Object(E.a)({},T,Object(S.a)(Object(S.a)({},t[T]),{},{tasks:m})))}var _=Array.from(t[T].tasks),C=_.splice(y,1),w=Object(u.a)(C,1),N=w[0],K=Array.from(t[h].tasks);return K.splice(I,0,N),Object(S.a)(Object(S.a)({},t),{},(f={},Object(E.a)(f,T,Object(S.a)(Object(S.a)({},t[T]),{},{tasks:_})),Object(E.a)(f,h,Object(S.a)(Object(S.a)({},t[h]),{},{tasks:K})),f));default:return t}},task:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TASK":var a=e.payload,n=a.taskId,s=a.taskText;return Object(S.a)(Object(S.a)({},t),{},Object(E.a)({},n,{id:n,text:s}));case"CHANGE_TASK_TEXT":var c=e.payload,r=c.taskId,o=c.taskText;return Object(S.a)(Object(S.a)({},t),{},Object(E.a)({},r,Object(S.a)(Object(S.a)({},t[r]),{},{text:o})));case"DELETE_TASK":var d=e.payload.taskId,i=(t[d],Object(D.a)(t,[d].map(x.a)));return i;case"DELETE_STAGE":var l=e.payload.tasks,u=Object(S.a)({},t);return l.forEach((function(t){delete u[t]})),u;default:return t}}}),_=function(t){console.log("Fetching from fake API since no local data detected");var e=f()();t.dispatch({type:"ADD_STAGE",payload:{stageId:e,stageTitle:"Resources"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:e,taskId:f()(),taskText:"Financials"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:e,taskId:f()(),taskText:"2017 Goals"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:e,taskId:f()(),taskText:"Brands guide"}});var a=f()();t.dispatch({type:"ADD_STAGE",payload:{stageId:a,stageTitle:"Todo"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:f()(),taskText:"Taco drone"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:f()(),taskText:"BITCOIN"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:a,taskId:f()(),taskText:"Elon musk"}});var n=f()();t.dispatch({type:"ADD_STAGE",payload:{stageId:n,stageTitle:"Doing"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:n,taskId:f()(),taskText:"Matic"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:n,taskId:f()(),taskText:"Safe Moon"}});var s=f()();t.dispatch({type:"ADD_STAGE",payload:{stageId:s,stageTitle:"Done"}}),t.dispatch({type:"ADD_TASK",payload:{stageId:s,taskId:f()(),taskText:"Zuddl To the moon"}})},C=function(t){},w=a(23),N=a.n(w),K=function(){try{var t=localStorage.getItem("state");return t?JSON.parse(t):void 0}catch(e){console.log("unable to load local state")}}(),G=Object(I.b)(m,K);0===G.getState().board.stages.length&&_(G),C(G),G.subscribe(N()((function(){!function(t){try{localStorage.setItem("state",JSON.stringify(t))}catch(e){console.log("unable to save state")}}(G.getState())}),1e3));var B=G;r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(o.a,{store:B,children:Object(j.jsx)(h,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)})),y()}},[[38,1,2]]]);
//# sourceMappingURL=main.699ddd96.chunk.js.map